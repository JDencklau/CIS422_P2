{"ast":null,"code":"var _jsxFileName = \"/Users/raulpatel/Documents/CIS.nosync/422/p2/frontend/src/FormsAndTabs/PollForm.js\";\nimport React, { Component } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass PollForm extends Component {\n  constructor() {\n    super();\n    this.state = {\n      contName: '',\n      selectedOption: \"Poll\",\n      formValues: [{\n        name: \"\",\n        pollOptions: \"\"\n      }]\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  handleChange(i, e) {\n    let formValues = this.state.formValues;\n    formValues[i][e.target.name] = e.target.value;\n    this.setState({\n      formValues\n    });\n  }\n  addFormFields() {\n    this.setState({\n      formValues: [...this.state.formValues, {\n        name: \"\",\n        options: \"\"\n      }]\n    });\n  }\n  removeFormFields(i) {\n    let formValues = this.state.formValues;\n    formValues.splice(i, 1);\n    this.setState({\n      formValues\n    });\n  }\n  handleSubmit(event) {\n    event.preventDefault();\n    console.log(this.state.selectedOption);\n    console.log(this.state.formValues);\n  }\n  render() {\n    let json_data = {\n      'p_name': this.state.contName,\n      'p_pw': \"\",\n      'allow_guest': true,\n      'date_start': \"\",\n      'date_end': \"\",\n      'index_start': 0,\n      'index_end': 0,\n      'containers': [],\n      'questions': []\n      // 'current-date': \"\",\n      // 'members': [],\n      // 'time': [],\n    };\n\n    let poll_id = '';\n    const submitHandler = async (event, scheduleName, guests, noEarlier, noLater) => {\n      event.preventDefault();\n      await fetch(API + \"/createpoll\", {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        mode: 'no-cors',\n        body: JSON.stringify(json_data)\n      }).then(async response => {\n        await response.data;\n      }).finally(data => {\n        poll_id = data;\n        console.log(`Poll created with ID: ${poll_id}`);\n      }).catch(error => {\n        console.error('Error: Poll creation failed');\n      });\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"fieldset\", {\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"Poll_Name\",\n            placeholder: \"Poll Name\",\n            value: this.state.contName,\n            onChange: this.handleContChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            for: 'guests',\n            children: \"Guests Allowed?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: 'guests',\n            type: 'checkbox',\n            disabled: true,\n            checked: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 7\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), this.state.formValues.map((element, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-inline\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Prompt Name: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"name\",\n              value: element.name || \"\",\n              onChange: e => this.handleChange(index, e)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 22\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Options (Comma Seperated): \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"pollOptions\",\n              value: element.pollOptions || \"\",\n              onChange: e => this.handleChange(index, e)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this), index ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 19\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 26\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"button remove\",\n                onClick: () => this.removeFormFields(index),\n                children: \"Remove Prompt\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : null, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 22\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"button-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button add\",\n              type: \"button\",\n              onClick: () => this.addFormFields(),\n              children: \"Add Prompt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 11\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button submit\",\n              type: \"submit\",\n              onClick: submitHandler,\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }, this);\n  }\n}\nexport default PollForm;","map":{"version":3,"names":["React","Component","PollForm","constructor","state","contName","selectedOption","formValues","name","pollOptions","handleSubmit","bind","handleChange","i","e","target","value","setState","addFormFields","options","removeFormFields","splice","event","preventDefault","console","log","render","json_data","poll_id","submitHandler","scheduleName","guests","noEarlier","noLater","fetch","API","method","headers","mode","body","JSON","stringify","then","response","data","finally","catch","error","handleContChange","map","element","index"],"sources":["/Users/raulpatel/Documents/CIS.nosync/422/p2/frontend/src/FormsAndTabs/PollForm.js"],"sourcesContent":["import React, {Component} from 'react'\n\nclass PollForm extends Component {\n  constructor() {\n    super();\n    this.state = {\n      contName: '',\n      selectedOption: \"Poll\",\n      formValues: [{ name: \"\", pollOptions : \"\" }]\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  handleChange(i, e) {\n    let formValues = this.state.formValues;\n    formValues[i][e.target.name] = e.target.value;\n    this.setState({ formValues });\n  }\n  addFormFields() {\n    this.setState(({\n      formValues: [...this.state.formValues, {name:\"\", options:\"\" }]\n    }))\n  }\n  removeFormFields(i) {\n    let formValues = this.state.formValues;\n    formValues.splice(i, 1);\n    this.setState({ formValues })\n  }\n  handleSubmit(event) {\n    event.preventDefault();\n    console.log(this.state.selectedOption);\n    console.log(this.state.formValues);\n  }\n  \n\n  render() {\n    \n    let json_data = {\n      'p_name': this.state.contName,\n      'p_pw': \"\",\n      'allow_guest': true,\n      'date_start': \"\",\n      'date_end': \"\",\n      'index_start': 0,\n      'index_end': 0,\n      'containers': [],\n      'questions': [],\n      // 'current-date': \"\",\n      // 'members': [],\n      // 'time': [],\n    };\n  \n    let poll_id = '';\n  \n    const submitHandler = async(event, scheduleName, guests, noEarlier, noLater) => {\n      event.preventDefault();\n      await fetch(API + \"/createpoll\", {\n        method: \"POST\",\n        headers: {\n        'Content-Type': 'application/json',\n        },\n        mode: 'no-cors',\n        body: JSON.stringify(json_data),\n      })\n      .then(async(response) => {\n        await response.data;\n      })\n      .finally((data) => {\n        poll_id = data;\n        console.log(`Poll created with ID: ${poll_id}`);\n      })\n      .catch((error) => {\n        console.error('Error: Poll creation failed')\n      });\n    }\n\n    return (\n    \n    <div>\n      <fieldset>\n      <form onSubmit={ this.handleSubmit }>\n      <input type=\"text\" id='Poll_Name' placeholder=\"Poll Name\" value ={this.state.contName}\n      onChange = {this.handleContChange}/>\n      <br/>\n      <br/>\n      <label for={'guests'}>Guests Allowed?</label>\n      <input name={'guests'} type={'checkbox'} disabled checked />\n      <br/> <br/>\n      \n      {this.state.formValues.map((element, index) => (\n            <div className=\"form-inline\" key={index}>\n              <label>Prompt Name: </label>\n              <input type=\"text\" name=\"name\" value={element.name || \"\"} onChange={e => this.handleChange(index, e)} />\n              <br /> <br />\n              <label>Options (Comma Seperated): </label>\n              <input type=\"text\" name=\"pollOptions\" value={element.pollOptions || \"\"} onChange={e => this.handleChange(index, e)} />\n              {\n                index ? \n                <>\n                  <br /> <br />\n                  <button type=\"button\"  className=\"button remove\" onClick={() => this.removeFormFields(index)}>Remove Prompt</button> \n                </>\n                : null\n              }\n              <br /> <br />\n            </div>\n          ))}\n      <div className=\"button-section\">\n          <button className=\"button add\" type=\"button\" onClick={() => this.addFormFields()}>Add Prompt</button>\n          <br /> <br />\n          <button className=\"button submit\" type=\"submit\" onClick={submitHandler}>Submit</button>\n      </div>\n      {/*\n      <label for={'endTime'}>No Later Than: </label>\n      <input name={'endTime'} type={'time'} step={'900'} min={'00:00'}  max={'24:00'} value={'22:00'}/>\n      */}\n      <br/>\n      </form>\n      </fieldset> \n    </div>\n  );\n}\n}\nexport default PollForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}